import{d as D,r as o,O as W,w as f,o as a,c as l,a as t,b as N,e as R,t as r,T as k,j as d,p as B,g as x,_ as V,h as P,S as $,i as j}from"./_plugin-vue_export-helper-CEF5PBLk.js";const u=p=>(B("data-v-fd977e2c"),p=p(),x(),p),L={id:"title",class:"slight-tilting"},U={id:"title-line1",class:"slight-moving"},M={key:0,id:"title-line1-stage2",class:"title-stage-line"},Y={key:1,id:"title-line1-stage3",class:"title-stage-line"},G={key:2,id:"title-line1-stage1",class:"title-stage-line"},H={id:"title-line2",class:"slight-moving-reverse"},J={key:0,id:"title-line2-stage2",class:"title-stage-line"},F={style:{"line-height":"0.8em","margin-top":"0.1em"}},q=u(()=>t("br",null,null,-1)),z={style:{"line-height":"0.8em","margin-top":"0.3em"}},K=u(()=>t("br",null,null,-1)),Q={key:1,id:"title-line2-stage3",class:"title-stage-line"},X=u(()=>t("br",null,null,-1)),Z=u(()=>t("span",{class:"small-versus"},"VS",-1)),ee=u(()=>t("br",null,null,-1)),te=u(()=>t("span",{class:"small-versus"},"VS",-1)),se={key:2,id:"title-line2-stage1",class:"title-stage-line"},A="ws://localhost:4455",S="ws://localhost:6969",ne="http://localhost:8080",oe="meubapelefoute",ae=D({__name:"RevisionIntroSplash",async setup(p){let s,c;const v=o("INTRO");var h=!1;const O=o(""),w=o(""),E=o(""),g=o(""),y=o(""),I=o(""),T=o("");var n;function b(e){v.value=e}async function C(){const e=await fetch(`${ne}/current_round`).catch(i=>{console.error(`Can't retrieve current round infos : ${i}`)});e&&e.status==200&&(console.log("Config loaded!"),n=await e.json(),O.value=n.round.coders[0],w.value=n.round.coders[1],E.value=n.round.coders[2],g.value=n.roundName,y.value=n.round.djName,I.value=n.round.commentsName,T.value=n.hostName)}const m=new WebSocket(S);m.addEventListener("open",()=>{console.log(`Connected to server ${S}.`)}),m.addEventListener("error",e=>{console.error(`Error with the server Websocket connection ${S}`)}),m.addEventListener("close",e=>{console.error(`Websocket connection with server ${S} closed.`)}),m.addEventListener("message",e=>{const i=JSON.parse(e.data);switch(i.type){case"ConfigEvent":i.payload.doUpdate&&C();break}});const _=new W;if([s,c]=f(()=>_.connect(A,oe).then(()=>{h=!0}).catch(()=>{console.error(`Can't connect to OBS websockets ${A}`)})),await s,c(),_.on("SceneTransitionStarted",async function(e){const i=await _.call("GetCurrentProgramScene");b(i.currentProgramSceneName)}),_.on("ConnectionError",()=>{h=!1}),_.on("ConnectionClosed",()=>{h=!1}),[s,c]=f(()=>C()),await s,c(),h){const e=([s,c]=f(()=>_.call("GetCurrentProgramScene")),s=await s,c(),s);b(e.sceneName)}return(e,i)=>(a(),l("div",L,[t("div",U,[N(k,{name:"slide-down-up"},{default:R(()=>[v.value==="INTRO_ROUND"?(a(),l("span",M,r(g.value),1)):v.value==="INTRO_VS"?(a(),l("span",Y,r(g.value),1)):(a(),l("span",G,"SHADER"))]),_:1})]),t("div",H,[N(k,{name:"slide-up-down"},{default:R(()=>[v.value==="INTRO_ROUND"?(a(),l("span",J,[t("div",F,[d("COMMENTARY "),q,d(r(I.value),1)]),t("div",z,[d("DJ SET "),K,d(r(y.value),1)])])):v.value==="INTRO_VS"?(a(),l("span",Q,[d(r(O.value),1),X,Z,d(" "+r(w.value),1),ee,te,d(" "+r(E.value),1)])):(a(),l("span",se,"SHOWDOWN"))]),_:1})])]))}}),ce=V(ae,[["__scopeId","data-v-fd977e2c"],["__file","/Users/diffty/_Projets/Streaming/2024_04_Revision2024/OVERLAY/src/components/RevisionIntroSplash.vue"]]),ie=D({__name:"RevisionIntroSplashApp",setup(p){return(s,c)=>(a(),P($,null,{default:R(()=>[N(ce)]),_:1}))}}),le=V(ie,[["__file","/Users/diffty/_Projets/Streaming/2024_04_Revision2024/OVERLAY/src/RevisionIntroSplashApp.vue"]]);j(le).mount("#app");
